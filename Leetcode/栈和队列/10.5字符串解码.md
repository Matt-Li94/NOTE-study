# 字符串解码

使用一个res 保存实时的结果 只不过需要栈去保存结果

遍历s，遇到：
1.字符'0'-'9',把表示次数的这一段子串截取出来并转换为int，压入num栈
2.遇到右括号']'，需要把res的这个重复num次 然后把上一次保存的结果（就是str栈顶的元素）加上这次拼接的保存到res中 
3.遇到'['，直接压入str栈和num栈
注：注意str栈是字符串栈，s[i]是char，记得转换


```cpp
class Solution {
public:
    string decodeString(string s) {
        // 遇到 [ 入栈 遇到 ] 出栈 这样子去保存上下层的一些临时变量
        // 使用两个栈 一个是数字栈 一个是字符串栈 然后用他们保存上一层未处理完的那些临时结果
        // 使用num和res进行当前扫描的处理
        stack<string> strsta;
        stack<long> numsta;
        long num{0};
        string res = "";
        for(const auto& i : s) {
            if(i >= '0' && i <= '9') { // 数字 存
                num = num * 10 + i - '0';
            }
            else if(i >= 'a' && i <= 'z') { // 字母 存
                res = res + i;
            }
            else if(i == '[') { // 左括号 入栈保存当前状态
                strsta.push(res);
                res = "";
                numsta.push(num);
                num = 0;
            }
            else { // 右括号 把上一层的状态拿出来 重复当前的字符串并拼接到上一层状态后面 
                   //此时保存的res只需要在下一次遇到 [ 的时候会入栈
                long count = numsta.top();
                numsta.pop();
                string ss = "";
                while(count--) {
                    ss =  ss + res;
                }
                res = strsta.top() + ss;
                strsta.pop();
            }
        }
        return res;
    }
};
```