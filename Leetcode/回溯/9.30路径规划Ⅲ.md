# 好他妈难啊啊啊啊啊啊啊啊

求某一个未定范围区间的和等于一个定值使用前缀和

这是一道前缀和和树形dp加哈希表的题目

希望以后不要再对值传递和引用传递搞混了 特别是在递归中的问题 这个太抽象了
```cpp
class Solution {
private:
    unordered_map<long long, int> umap;
public:
    void traversal(TreeNode* root, int targetSum, long long sum, int& count) {
        // sum采用值传递 引用传递手动回溯也容易出错
        if(root == nullptr) return;
        sum = root->val + sum;
        count = umap[sum - targetSum] + count;
        umap[sum]++;
        traversal(root->left,targetSum,sum,count);
        traversal(root->right,targetSum,sum,count);
        umap[sum]--; //一定要使用这个-- 因为我们统计的是一个路径上的 防止左子树的加到右子树那里去 umap是全局变量
        // 由于sum是值传递 天然不需要使用回溯减去 这个很方便

    }
    int pathSum(TreeNode* root, int targetSum) {
        long long sum{0};
        int count{0};
        umap[0] = 1; // 这个一定要初始化为0
        traversal(root,targetSum,sum,count);
        return count;
    }
};
```