# 一道题目打通你递归的两种本质解法！

对于自顶向下是符合你的理解的 在递归函数中首先处理当前单层的操作 之后在递归
但是对于自底向上 你需要带入后序遍历的模板 先递归 之后在单层操作 这个单层操作是比较抽象的 不想自顶向下 你需要去代入某一个节点去理解 比较这道题目就要假设当前这个中间节点是获得了左右子树的正确节点数 那么他就要向上返回包括自己的节点总数就是+1.
```cpp
//自底向上
    int countNodes(TreeNode* root) {
        // 这个其实不就是直接遍历二叉树嘛 
        // 尝试一下后序遍历的模板 你要相信递归已经解决了子问题了 相信递归返回正确答案 之后先上报告答案
        if(root == nullptr) return 0;
        int left_num = countNodes(root->left);
        int right_num = countNodes(root->right);
        return left_num + right_num + 1;
    }
//自顶向下
    void traversal(TreeNode* root,int& node_num){
        if(root == nullptr) return;
        node_num++;
        traversal(root->left,node_num);
        traversal(root->right,node_num);
    }
    int countNodes(TreeNode* root) {
        int node_num{0};
        traversal(root,node_num);
        return node_num;
    }
```